{"version":3,"sources":["../node_modules/redux-form/es/formValueSelector.js","../node_modules/redux-form/es/createFormValueSelector.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","hoc/withAuthRedirect.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","Components/Settings/Settings.js","Components/Settings/SettingsContainer.js"],"names":["createFormValueSelector","_ref","getIn","form","getFormState","invariant","nonNullGetFormState","state","_len","arguments","length","fields","Array","_key","reduce","accumulator","field","value","undefined","plain","setIn","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_getPrototypeOf","getPrototypeOf","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_typeof","obj","Symbol","iterator","constructor","_possibleConstructorReturn","self","ReferenceError","mapStateToProps","isAuth","authentication","withAuthRedirect","Component","RedirectComponent","subClass","superClass","create","Derived","protoProps","staticProps","result","Super","NewTarget","this","apply","to","React","connect","Settings","profile","Preloader","myContacts","selectContacts","contacts","push","onSubmit","handleSubmit","changeProfile","Field","component","FormControl","typeField","name","placeholder","fullName","type","accept","id","onChange","event","handleChange","src","photos","large","aboutMe","contactValue","lookingForAJob","haveAJob","lookingForAJobDescription","onClick","changeProfileOn","SettingsReduxForm","reduxForm","enableReinitialize","selector","formValueSelector","AC","putProfileSettings","uploadPhoto","getUserProfile","compose","profilePage","userID","useState","setChangeProfile","photo","setPhoto","useEffect","initialValues","files"],"mappings":"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","file":"static/js/4.ed498d76.chunk.js","sourcesContent":["import createFormValueSelector from './createFormValueSelector';\nimport plain from './structure/plain';\nexport default createFormValueSelector(plain);","import invariant from 'invariant';\nimport plain from './structure/plain';\nexport default function createFormValueSelector(_ref) {\n  var getIn = _ref.getIn;\n  return function (form, getFormState) {\n    invariant(form, 'Form value must be specified');\n\n    var nonNullGetFormState = getFormState || function (state) {\n      return getIn(state, 'form');\n    };\n\n    return function (state) {\n      for (var _len = arguments.length, fields = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        fields[_key - 1] = arguments[_key];\n      }\n\n      invariant(fields.length, 'No fields specified');\n      return fields.length === 1 ? // only selecting one field, so return its value\n      getIn(nonNullGetFormState(state), form + \".values.\" + fields[0]) : // selecting many fields, so return an object of field values\n      fields.reduce(function (accumulator, field) {\n        var value = getIn(nonNullGetFormState(state), form + \".values.\" + field);\n        return value === undefined ? accumulator : plain.setIn(accumulator, field, value);\n      }, {});\n    };\n  };\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.authentication.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) {\r\n                return <Redirect to={'/login/'}/>\r\n            }\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToProps)(RedirectComponent)\r\n\r\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  return function () {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (isNativeReflectConstruct()) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","import s from './Settings.module.css'\r\nimport React from 'react'\r\nimport { Field } from 'redux-form'\r\nimport { FormControl } from '../Common/FormsControls/FormsControls'\r\nimport Preloader from '../Common/Preloader/Preloader'\r\n\r\nconst Settings = ({profile, ...props}) => {\r\n    if(!profile){\r\n        return <Preloader/>\r\n    }\r\n    let myContacts = [],\r\n        selectContacts = []\r\n    for (let key in profile.contacts) {\r\n        if (profile.contacts[key]) {\r\n            myContacts.push(<li>{`${key} : ${profile.contacts[key]}`}</li>)\r\n        }\r\n        selectContacts.push(<option>{key}</option>)\r\n    }\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <span>\r\n                <label>Полное имя :</label>\r\n                <div>{!props.changeProfile ? profile.fullName :\r\n                    <Field component={FormControl}\r\n                           typeField={'input'}\r\n                           name={'fullName'}\r\n                           placeholder={'Введите имя'}\r\n                           value={profile.fullName}/>}\r\n                </div>\r\n            </span>\r\n            <div>\r\n                <label>Avatar </label>\r\n                {!props.changeProfile ? <img src={profile.photos.large}/> :\r\n                    <input type={'file'}\r\n                           accept=\"image/*\"\r\n                           id={'avatar'}\r\n                           onChange={(event) => props.handleChange(event)}/>}\r\n            </div>\r\n            <span>\r\n                <label>{`About me: `}</label>\r\n                <div>{!props.changeProfile ? profile.aboutMe :\r\n                    <Field component={FormControl}\r\n                           typeField={'input'}\r\n                           name={'aboutMe'}\r\n                           placeholder={'Напишите о себе'}\r\n                           value={profile.aboutMe}/>}\r\n                </div>\r\n            </span>\r\n            <span>\r\n                <label>Contacts:</label>\r\n                {!props.changeProfile ? <div>{!myContacts[0] ? 'Нет контактов' : <ul>{myContacts}</ul>}</div> :\r\n                    <div>\r\n                        <label>Select contact</label>\r\n                        <Field name={'selectContact'}\r\n                               component={FormControl}\r\n                               typeField={'select'}>\r\n                            <option></option>\r\n                            {selectContacts}\r\n                        </Field>\r\n                        {props.contactValue && <Field component={FormControl}\r\n                                                      typeField={'input'}\r\n                                                      name={`contacts.${props.contactValue}`}\r\n                                                      value={`${profile.contacts}.${props.contactValue}`}/>}\r\n                    </div>}\r\n            </span>\r\n            <span>{!props.changeProfile ?\r\n                !profile.lookingForAJob ? 'Поиск работы : не ищу' : `Поиск работы : ${profile.lookingForAJobDescription}` :\r\n                <div>\r\n                    <label><Field component={FormControl} typeField={'input'} type={'checkbox'} name={'lookingForAJob'}\r\n                                  value={profile.lookingForAJob}/>I'm looking a job</label>\r\n                    {props.haveAJob &&\r\n                    <div><label>What kind of job?</label>\r\n                        <Field component={FormControl} typeField={'input'} name={'lookingForAJobDescription'}\r\n                               value={profile.lookingForAJobDescription}/></div>\r\n                    }\r\n                </div>}\r\n            </span>\r\n            <div>\r\n                {!props.changeProfile &&\r\n                <button type={'button'} onClick={props.changeProfileOn}>Change profile</button>}\r\n                {props.changeProfile && <button type={'submit'}>Save changes</button>}\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\nexport default Settings","import React, { useEffect, useState } from 'react'\r\nimport Settings from './Settings'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect'\r\nimport { formValueSelector, reduxForm } from 'redux-form'\r\nimport { getUserProfile, putProfileSettings, uploadPhoto } from '../../Redux/profileReducer'\r\n\r\nconst SettingsReduxForm = reduxForm({form: 'settings', enableReinitialize: true})(Settings),\r\n    selector = formValueSelector('settings'),\r\n    mapStateToProps = (state) => {\r\n        const haveAJob = selector(state, 'lookingForAJob'),\r\n            contactValue = selector(state, 'selectContact')\r\n        return {\r\n            haveAJob,\r\n            contactValue,\r\n            profile: state.profilePage.profile,\r\n            userID: state.authentication.id\r\n        }\r\n    },\r\n    AC = {putProfileSettings, uploadPhoto,getUserProfile},\r\n\r\n    SettingsContainer = (props) => {\r\n        const [changeProfile, setChangeProfile] = useState(false),\r\n            [photo, setPhoto] = useState(null),\r\n            onSubmit = (form) => {\r\n                props.putProfileSettings(form, props.profile)\r\n                if (photo) {\r\n                    props.uploadPhoto(photo)\r\n                }\r\n                setChangeProfile(false)\r\n            },\r\n            changeProfileOn = () => {\r\n                setChangeProfile(true)\r\n            },\r\n            handleChange = (event) => {\r\n                setPhoto(event.target.files[0])\r\n            }\r\n            useEffect(()=>{props.getUserProfile(props.userID)},[])\r\n        return (\r\n            <SettingsReduxForm {...props}\r\n                               changeProfileOn={changeProfileOn}\r\n                               onSubmit={onSubmit}\r\n                               initialValues={props.profile}\r\n                               uploadPhoto={props.uploadPhoto}\r\n                               handleChange={handleChange}\r\n                               changeProfile={changeProfile}/>\r\n        )\r\n    }\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, AC),\r\n    withAuthRedirect\r\n)(SettingsContainer)"],"sourceRoot":""}